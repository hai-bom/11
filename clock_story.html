<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>â° ë¯¼ìˆ˜ì˜ ì‹œê³„ ëª¨í—˜</title>
    <link href="https://fonts.googleapis.com/css2?family=Gaegu:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #ff9a9e;
            --secondary-color: #fad0c4;
            --accent-color: #ffecd2;
            --text-color: #5d4037;
        }

        body {
            font-family: 'Gaegu', cursive;
            background-color: #fff9c4;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .story-container {
            background-color: #ffffff;
            border-radius: 40px;
            box-shadow: 0 15px 0 #ffcc80;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            text-align: center;
            border: 8px solid #ffcc80;
        }

        h1 {
            color: #f57c00;
            font-size: 3rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px #ffe0b2;
        }

        /* ì‹œê³„ ìŠ¤íƒ€ì¼ */
        #clock-canvas {
            background: white;
            border-radius: 50%;
            border: 10px solid #81c784;
            box-shadow: 0 8px 0 #66bb6a;
            margin: 20px 0;
        }

        #story-text {
            font-size: 1.8rem;
            line-height: 1.4;
            color: var(--text-color);
            margin-bottom: 30px;
            background: #f1f8e9;
            padding: 20px;
            border-radius: 20px;
        }

        .choices-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .choice-button {
            background-color: #ff8a65;
            color: white;
            padding: 15px 25px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.5rem;
            font-family: 'Gaegu', cursive;
            box-shadow: 0 6px 0 #e64a19;
            transition: 0.1s;
        }

        .choice-button:hover {
            transform: translateY(2px);
            box-shadow: 0 4px 0 #e64a19;
            background-color: #ff7043;
        }

        .choice-button:active {
            transform: translateY(6px);
            box-shadow: 0 0 0 #e64a19;
        }

        .reset-button {
            background-color: #4fc3f7;
            box-shadow: 0 6px 0 #0288d1;
            margin-top: 20px;
        }

        .hidden { display: none; }
    </style>
</head>
<body>

<div class="story-container">
    <h1>ğŸ•°ï¸ ë¯¼ìˆ˜ì˜ í•˜ë£¨</h1>
    <canvas id="clock-canvas" width="280" height="280"></canvas>
    
    <div id="story-text"></div>
    <div id="choices" class="choices-container"></div>
    
    <button id="reset-button" class="choice-button reset-button hidden" onclick="startGame()">ğŸ° ì²˜ìŒë¶€í„° ë‹¤ì‹œ í•˜ê¸°</button>
</div>

<script>
    const canvas = document.getElementById('clock-canvas');
    const ctx = canvas.getContext('2d');
    const radius = canvas.width / 2;
    ctx.translate(radius, radius);

    const game = {
        start: {
            time: { h: 7, m: 0 },
            text: "ì•ˆë…•! ë‚˜ëŠ” ë¯¼ìˆ˜ì•¼. ì•„ì¹¨ 7ì‹œê°€ ë˜ì—ˆì–´. ì´ì œ ì¼ì–´ë‚˜ì•¼ í•´!",
            choices: [
                { text: "ë²ˆì© ì¼ì–´ë‚˜ì„œ ì”»ê¸°", next: "morningReady" },
                { text: "5ë¶„ë§Œ ë” ì˜ë˜...", next: "oversleep" }
            ]
        },
        morningReady: {
            time: { h: 7, m: 30 },
            text: "ì™€! 7ì‹œ 30ë¶„ì´ì•¼. ë°°ê°€ ê³ í”ˆê±¸? ë§›ìˆëŠ” ì•„ì¹¨ì„ ë¨¹ì„ê¹Œ?",
            choices: [
                { text: "ëƒ ëƒ  ì•„ì¹¨ ë¨¹ê¸°", next: "goSchoolOnTime" },
                { text: "ë°”ë¡œ í•™êµë¡œ ì¶œë°œ!", next: "skipBreakfast" }
            ]
        },
        oversleep: {
            time: { h: 8, m: 0 },
            text: "ì•—, ë²Œì¨ 8ì‹œì•¼! ëŠ¦ì ì„ ìë²„ë ¸ë„¤. ì–´ë–¡í•˜ì§€?",
            choices: [
                { text: "ì„œë‘˜ëŸ¬ ë›°ì–´ê°„ë‹¤!", next: "lateSchool" },
                { text: "ì²œì²œíˆ ê±¸ì–´ê°„ë‹¤.", next: "stayHome" }
            ]
        },
        goSchoolOnTime: {
            time: { h: 9, m: 0 },
            text: "9ì‹œ ì •ê°! ëŠ¦ì§€ ì•Šê²Œ í•™êµì— ë„ì°©í–ˆì–´. ê³µë¶€ë¥¼ ì‹œì‘í•´ë³¼ê¹Œ?",
            choices: [
                { text: "ìˆ˜ì—…ì„ ì—´ì‹¬íˆ ë“£ëŠ”ë‹¤.", next: "goodClass" },
                { text: "ì°½ë°–ì„ ë³´ë©° ë©í•˜ë‹ˆ ìˆëŠ”ë‹¤.", next: "sleepInClass" }
            ]
        },
        skipBreakfast: {
            time: { h: 9, m: 0 },
            text: "9ì‹œì•¼. í•™êµì—” ì˜ ì™”ëŠ”ë° ë°°ê°€ ë„ˆë¬´ ê³ íŒŒì„œ ê¸°ìš´ì´ ì—†ì–´.",
            choices: [
                { text: "ì°¸ê³  ê³µë¶€í•œë‹¤.", next: "goodClass" },
                { text: "ë§¤ì ìœ¼ë¡œ ë‹¬ë ¤ê°„ë‹¤.", next: "goStore" }
            ]
        },
        lateSchool: {
            time: { h: 9, m: 30 },
            text: "9ì‹œ 30ë¶„... ì„ ìƒë‹˜ê»˜ ê¾¸ì¤‘ì„ ë“¤ì—ˆì–´. ë‹¤ìŒì—” ì¼ì° ì¼ì–´ë‚˜ì! (ì—”ë”©)",
            choices: []
        },
        stayHome: {
            time: { h: 9, m: 0 },
            text: "9ì‹œì¸ë° ì•„ì§ë„ ì§‘ì— ìˆì–´. ì˜¤ëŠ˜ì€ ë§ˆìŒì´ ë¶ˆí¸í•´. (ì—”ë”©)",
            choices: []
        },
        goodClass: {
            time: { h: 11, m: 30 },
            text: "11ì‹œ 30ë¶„! ê³µë¶€ë¥¼ ì—´ì‹¬íˆ í–ˆë”ë‹ˆ ë³´ëŒì°¨ë‹¤. ì´ì œ ê³§ ì ì‹¬ì‹œê°„ì´ì•¼!",
            choices: [
                { text: "ì¹œêµ¬ë“¤ê³¼ ì ì‹¬ ë¨¹ê¸°", next: "lunchTime" }
            ]
        },
        sleepInClass: {
            time: { h: 11, m: 30 },
            text: "ì¡¸ë‹¤ê°€ ì„ ìƒë‹˜ê»˜ ë“¤ì¼°ì–´. ë§ˆìŒì´ ì†ìƒí•´. (ì—”ë”©)",
            choices: []
        },
        goStore: {
            time: { h: 10, m: 30 },
            text: "10ì‹œ 30ë¶„. ë§¤ì ì— ê°”ë‹¤ê°€ ìˆ˜ì—…ì„ ë†“ì¹˜ê³  ë§ì•˜ì–´. (ì—”ë”©)",
            choices: []
        },
        lunchTime: {
            time: { h: 12, m: 0 },
            text: "ë“œë””ì–´ 12ì‹œ ì •ê°! ë§›ìˆëŠ” ì ì‹¬ì„ ë¨¹ê³  ì¦ê±°ìš´ í•˜ë£¨ë¥¼ ë§ˆì³¤ì–´! ğŸ‰ (ì—”ë”©)",
            choices: []
        }
    };

    let currentScene = "start";

    function drawClock(h, m) {
        ctx.clearRect(-radius, -radius, canvas.width, canvas.height);
        const drawRadius = radius * 0.9;

        // ì‹œê³„ ë°°ê²½
        ctx.beginPath();
        ctx.arc(0, 0, drawRadius, 0, 2 * Math.PI);
        ctx.fillStyle = 'white';
        ctx.fill();

        // ìˆ«ì ê·¸ë¦¬ê¸°
        ctx.font = "bold 24px 'Gaegu'";
        ctx.textBaseline = "middle";
        ctx.textAlign = "center";
        ctx.fillStyle = "#333";
        for (let num = 1; num <= 12; num++) {
            let ang = num * Math.PI / 6;
            ctx.rotate(ang);
            ctx.translate(0, -drawRadius * 0.8);
            ctx.rotate(-ang);
            ctx.fillText(num.toString(), 0, 0);
            ctx.rotate(ang);
            ctx.translate(0, drawRadius * 0.8);
            ctx.rotate(-ang);
        }

        // ì‹œì¹¨ (ì§§ì€ ë°”ëŠ˜)
        let hourPos = (h % 12) * Math.PI / 6 + (m * Math.PI / (6 * 60));
        drawHand(hourPos, drawRadius * 0.5, 10, "#333");

        // ë¶„ì¹¨ (ê¸´ ë°”ëŠ˜)
        let minutePos = m * Math.PI / 30;
        drawHand(minutePos, drawRadius * 0.8, 6, "#ff5722");

        // ì¤‘ì‹¬ì 
        ctx.beginPath();
        ctx.arc(0, 0, 8, 0, 2 * Math.PI);
        ctx.fillStyle = '#333';
        ctx.fill();
    }

    function drawHand(pos, length, width, color) {
        ctx.beginPath();
        ctx.lineWidth = width;
        ctx.lineCap = "round";
        ctx.strokeStyle = color;
        ctx.moveTo(0, 0);
        ctx.rotate(pos);
        ctx.lineTo(0, -length);
        ctx.stroke();
        ctx.rotate(-pos);
    }

    function updateScene() {
        const scene = game[currentScene];
        drawClock(scene.time.h, scene.time.m);
        document.getElementById("story-text").textContent = scene.text;
        
        const choicesDiv = document.getElementById("choices");
        choicesDiv.innerHTML = "";
        const resetButton = document.getElementById("reset-button");
        resetButton.classList.add("hidden");

        if (scene.choices.length > 0) {
            scene.choices.forEach(choice => {
                const btn = document.createElement("button");
                btn.className = "choice-button";
                btn.textContent = choice.text;
                btn.onclick = () => {
                    currentScene = choice.next;
                    updateScene();
                };
                choicesDiv.appendChild(btn);
            });
        } else {
            choicesDiv.innerHTML = "<p style='font-size: 2rem; color: #f57c00;'>ì˜¤ëŠ˜ì˜ ëª¨í—˜ ë!</p>";
            resetButton.classList.remove("hidden");
        }
    }

    function startGame() {
        currentScene = "start";
        updateScene();
    }

    startGame();
</script>
</body>
</html>